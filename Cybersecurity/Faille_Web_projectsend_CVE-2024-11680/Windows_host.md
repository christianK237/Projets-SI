# Recencement des problèmes CVE-2024-11680

Petit fichier pour recencer les actions réalisées pour essayer de mettre en place l`attaque, nottament depuis Windows.

## Problème : Depuis un terminal git bash, la vm target ne se lance pas et plante après dépassement du time out.

Correction :
Agrandir le time out dans le vagrant file en ajoutant `config.vm.boot_timeout = 600`. LA VM se lance bien.

## En finissant de lancer la VM, il y a une erreur pour executer le script

L'erreur est de la forme `
sudo: unable to execute /sharedFolder/Set-vuln-app.sh: No such file or directory`.
Rien ne change en essayant d'exécuter le script depuis la VM (en y accedant avec `vagrant ssh`), ni en changeant le mode du script avec un `sudo chmod +x /sharedFolder/Set-vuln-app.sh`. Le chemin d'accès est pourtant correct et le contenu du script est bien synchronisé avec la machine host. Par conter, le type du fichier est (testé avec la cmd `file`) : `/sharedFolder/Set-vuln-app.sh: Bourne-Again shell script, UTF-8 Unicode text executable, with CRLF line terminators`. En faisant `cat -A /sharedFolder/Set-vuln-app.sh` on remarque la présence de `^M` en chaque fin de ligne. Ce sont des fin de ligne Windows qui posent problème dans un environement Unix/Linux. Pour corriger le fichier, installer dos2unix avec `sudo apt-get install dos2unix -y` puis lancer `dos2unix /sharedFolder/Set-vuln-app.sh`. Le script s`exécute :).

## Il faut modifier le fichier hosts sous windows

Il se trouve dans C:\Windows\System32\drivers\etc, à ouvrir avec un éditeur (comme VSCode) en tant qu'administrateur.

## Le port 8080 est déjà utilisé au moment de lancer la VM

Il faut penser à fermer tous les accès à ce port, notamment les accès via un navigateur.

## Au lancement du serveur, AH00558: apache2: Could not reliably determine the server's fully qualified domain name, using 127.0.2.1

Aller dans `/etc/apache2/apache2.conf` avec un `sudo nano` par exemple et ajouter manuellement le nom du serveur avec la ligne `ServerName christian-sacha.com`. Pour tester si cela a fonctionné, essayer `sudo apache2ctl configtest`. La syntaxe devrait être OK.

## Dans l'application ProjectSend Faille web, une fois l'URI mise à jour ça casse la page

Je ne sais pas si c'est important encore ou pas...
